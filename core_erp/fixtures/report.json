[
 {
  "add_total_row": 0,
  "disable_prepared_report": 0,
  "disabled": 0,
  "docstatus": 0,
  "doctype": "Report",
  "is_standard": "Yes",
  "javascript": null,
  "json": null,
  "letter_head": "DFM Foods Ltd-KP",
  "modified": "2022-12-12 17:58:32.674656",
  "module": "Core ERP",
  "name": "FG Costing",
  "parent": null,
  "parentfield": null,
  "parenttype": null,
  "prepared_report": 0,
  "query": "select \nf.posting_date,\nf.item_code,\nf.aq as \"Produced Qty\",\nf.b as \"Produced Qty (In kg)\",\nf.c as \"Produced Qty RM Value\",\n/*f.company,\nf.oc,\nf.tq,*/\n((f.oc*f.b)/f.tq) as \"Allocated Overhead Cost\",\n(f.c+((f.oc*f.b)/f.tq)) as \"Total Cost\",\n((f.c+((f.oc*f.b)/f.tq))/f.b) as \"Rate Per kg\",\nfg.g as \"Closing Stock\",\n(((f.c+((f.oc*f.b)/f.tq))/f.b)*fg.g) as \"Closing Stock Value\"\nfrom\n\n(select\nab.posting_date,\nab.item_code,\nab.aq,\nab.kg as \"b\",\nab.sv as \"c\",\nab.company,\nab.oc,\nc.aqq as \"tq\"\nfrom\n\n\n\n(select \na.posting_date,\na.item_code,\na.aq,\na.sv,\na.kg,\na.company,\nb.oc\n\nfrom\n\n(select \nsle.posting_date,\nsle.item_code,\nsum(sle.actual_qty) as \"aq\",\nsum(sle.stock_value) as \"sv\",\n((sum(sle.actual_qty))*itm.weight_per_box)/1000 as \"kg\",\nsle.company,\nsle.name\nfrom `tabStock Ledger Entry` as sle left join `tabStock Entry` as se \non se.name=sle.voucher_no\nleft join `tabItem` as itm\non itm.item_code=sle.item_code\nwhere se.stock_entry_type=\"Manufacture\" and sle.voucher_type=\"Stock Entry\"  and sle.incoming_rate>0 and itm.item_group=\"Finished Goods\"\ngroup by sle.item_code,sle.company) as a\nright join\n\n\n(select\ngl.account,\ngl.company,\nsum(gl.debit-gl.credit) as \"oc\"\nfrom `tabGL Entry` as gl left join `tabAccount` as ac\non gl.account=ac.name\nwhere (ac.overhead_expense=1 or ac.is_pvc_ledger=1)\ngroup by gl.company) as b\non a.company=b.company\ngroup by a.item_code,a.company) as ab\nleft join\n\n(select \nsle.item_code,\nsum(sle.actual_qty) as \"aqq\",\nsum(sle.stock_value),\nsle.company,\nsle.name\nfrom `tabStock Ledger Entry` as sle left join `tabStock Entry` as se \non se.name=sle.voucher_no\nwhere se.stock_entry_type=\"Manufacture\" and sle.voucher_type=\"Stock Entry\"  and sle.incoming_rate>0\ngroup by sle.company) as c\non c.company=ab.company) as f\nleft join\n\n(select \nitem_code,\ncompany,\nsum(actual_qty) as \"g\"\nfrom `tabStock Ledger Entry`\ngroup by item_code,company) as fg\non fg.company=f.company and fg.item_code=f.item_code\nwhere (date(f.posting_date) between %(from_date)s and %(to_date)s) and f.company=%(company)s ",
  "ref_doctype": "Stock Ledger Entry",
  "reference_report": null,
  "report_name": "FG Costing",
  "report_script": null,
  "report_type": "Query Report",
  "roles": [
   {
    "parent": "FG Costing",
    "parentfield": "roles",
    "parenttype": "Report",
    "role": "Stock User"
   },
   {
    "parent": "FG Costing",
    "parentfield": "roles",
    "parenttype": "Report",
    "role": "Accounts Manager"
   },
   {
    "parent": "FG Costing",
    "parentfield": "roles",
    "parenttype": "Report",
    "role": "Manufacturing Manager"
   },
   {
    "parent": "FG Costing",
    "parentfield": "roles",
    "parenttype": "Report",
    "role": "Manufacturing User"
   },
   {
    "parent": "FG Costing",
    "parentfield": "roles",
    "parenttype": "Report",
    "role": "System Manager"
   },
   {
    "parent": "FG Costing",
    "parentfield": "roles",
    "parenttype": "Report",
    "role": "Reports-View"
   }
  ]
 }
]